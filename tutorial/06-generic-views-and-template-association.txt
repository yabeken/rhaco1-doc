* 汎用 Views

rhaco では、汎用 Views ( generic.Views )を用いることにより、一覧、詳細、作成、更新、削除のためのコードを記述する必要が無いことを学びました。

汎用ビューには次のものがあります。

|*ビュー|*動作|
|read|ページング付一覧、検索|
|detail|詳細表示|
|create|新規作成|
|confirmedCreate|確認画面付き新規作成|
|update|更新|
|confirmedUpdate|確認画面付き更新|
|drop|削除 ( 確認画面付き削除にも対応 )|
|import|CSV形式のデータの取り込み|
|export|テーブルをCSV形式で出力|

これらのビューにモデルを渡すことによって、モデルに対応するレコードへの処理となります。簡単ですね！

* テンプレートの連携

さて、投稿記事の一覧・検索、投稿、削除、編集と一通りできるようになりましたが、現在はそれぞれの処理は URL を直接たたかないとできません。
これでは、使い物になりませんよね？rhaco では、汎用 Views を用いている場合には、これを簡単に差し替える方法があります。

次のようにファイルをコピーしてください。

+ /DocumentRoot/rhaco/resources/templates/generic/views/main.html -> /DocumentRoot/blog/resources/templates/generic/main.html
+ /DocumentRoot/rhaco/resources/templates/generic/views/confirm.html -> /DocumentRoot/blog/resources/templates/generic/post_confirm.html
+ /DocumentRoot/rhaco/resources/templates/generic/views/form.html -> /DocumentRoot/blog/resources/templates/generic/post_form.html
+ /DocumentRoot/rhaco/resources/templates/generic/views/list.html -> /DocumentRoot/blog/resources/templates/generic/post_list.html

これで、テンプレートの差し替えが完了しました。簡単ですね！
といっても、表示は変わりませんけどね。

** 連携の規則

規則は非常に単純です。

>||
全て小文字にしたモデルクラス名 + "_" + ページタイプ + ".html"
||<

としたファイルを、 /DocumentRoot/blog/resources/templates/generic/ 以下に配置するだけです。

ページタイプには、以下のものがあります。

|*ページタイプ|*ビュー|
|list|read|
|detail|detail|
|form|create, confirmedCreate, update, confirmedUpdate|
|confirm|confirmedCreate, confirmedUpdate|
|confirm_delete|drop|

このように、テンプレートの差し替えが非常に簡単にできます。

